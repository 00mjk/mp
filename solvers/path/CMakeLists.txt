if (APPLE)
  set(PATH_LIB osx/libpath47.a)
else ()
  if (CMAKE_SIZEOF_VOID_P EQUAL 8)
    set(suffix 64)
  else ()
    set(suffix 32)
  endif ()
  if (WIN32)
    set(PATH_LIB win${suffix}/path47_static.lib)
  else ()
    set(PATH_LIB linux${suffix}/libpath47.a)
    set(PATH_EXTRA_LIBS m)
  endif ()
endif ()

set(PATH_DIR ${CMAKE_CURRENT_SOURCE_DIR}/pathlib)
if (EXISTS ${PATH_DIR}/include)
  include_directories(${PATH_DIR}/include)
  add_executable(path path.c)
  target_link_libraries(path
    amplsolver ${PATH_DIR}/lib/${PATH_LIB} ${PATH_EXTRA_LIBS})
endif ()
